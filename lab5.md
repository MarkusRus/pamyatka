---
title: 'Лабораторная работа 5'
author: 'А.В. Родионов'
fontsize: '14pt'
geometry: 'margin=2cm'
paper: 'a4'
lang: 'russian'
template: 'default.html'
---

## Перебазирование веток

Слияние -- не единственный инструмент для управления историей коммитов в репозитории Git. В
некоторых случаях, вместо слияния веток с последующим удалением, желательно просто перенести коммиты
из одной ветки на вершину другой. Такая операция называется перебазированием, и производится, если
нужно сделать историю изменений проекта более линейной и читаемой. Перебазирование -- операция
деструктивная, и пользоваться ей следует с осторожностью. В следующих разделах будут рассмотрены
типовые варианты ее применения.

### Перебазирование как альтернатива слиянию

Пусть имеется ветка `develop` со текущим состоянием проекта, и ветка `feature` с экспериментальными
изменениями, которые были ответвлены от некоего коммита в прошлом. Стандартный
способ добавить эти изменения в `develop`, это слияние, с образованием нового коммита. Однако, можно
перенести коммиты из `feature` на вершину ветки `develop` так, как будто они были сделаны
непосредственно в ней. Это достигается командами:
    
    git checkout feature
    git rebase develop

При перебазировании, Git определяет общего предка двух веток, в данном случае, `feature` и
`develop`, находит разницу между вершиной `develop` и общим предком, а затем -- применяет эту
разницу и все коммиты от общего предка до вершины `feature` к вершине `develop`. В результате,
корень ветки `feature`, с учетом разницы, оказывается перенесен на вершину `develop`, а указатель
`develop` остается на месте. После перебазирования, можно слить `develop` и `feature` путем
перемотки вперед:

    git checkout develop
    git merge feature

После выполнения всех команд, состояние рабочего дерева проекта будет в точности таким же, как если
бы было выполнено обычное слияние, но коммиты ветки `feature` будут образовывать не боковую ветку, а
отрезок на линейной последовательности изменений в ветке `develop`. Если впоследствии удалить
`feature`, уже будет невозможно определить, были ли изменения внесены отдельной веткой или
добавлялись непосредственно в `develop`.

