---
title: 'Памятка по командам Git'
author: 'А.В. Родионов'
fontsize: '14pt'
geometry: 'margin=2cm'
paper: 'a4'
lang: 'russian'
template: 'default.html'
---

# Начальные установки

Выполняются один раз для рабочего места, сохраняются в файле конфигурации 
данного пользователя.

* `git config --global user.name "`_Имя пользователя_`"` --- задание имени 
  пользователя для последующего фиксирования в коммитах
* `git config --global user.email `_адрес почты_ --- адрес электронной почты
* `git config --global core.editor `_путь к исполняемому файлу_ --- выбор 
  программы текстового редактора для ввода сообщений

# Сокращенные команды

Для удобства работы в командной строке можно сократить общеупотребительные 
команды до нескольких первых букв. Для этого нужно выполнить следующие команды:

* `git config --global alias.co checkout`
* `git config --global alias.ci commit`
* `git config --global alias.st status`
* `git config --global alias.br branch`
* `git config --global alias.hist 'log --pretty=format:"%h %ad | %s%d [%an]" --graph --date=short'`

Команда `git co` будет соответствовать `git checkout`, `git ci` --- `git commit`, и т.д.

# Просмотр изменений

* `git status` --- просмотр состояния изменений
* `git log` --- история изменений данной ветки
* `git diff` --- сравнение изменений по отношению к текущей ветке
* `git diff` _имя ветки_ --- сравнение изменений по отношению к заданной веткой
* `git diff HEAD~2` --- сравнение изменений по отношению 2, 3 и т.д. коммиту от текущего
* `git diff` _хэш-1_ _хеш-2_ --- сравнение двух коммитов между собой

# Внесение изменений в репозиторий

* `git add .` --- индексация изменений в текущей директории
* `git add `_имя директории_ --- проиндексировать изменения в заданной папке
* `git add `_имя файла_ --- проиндексировать изменения в одном файле
* `git add `_имя папки или файла_` --all` --- проиндексировать все изменения, 
  включая удаления и переименования файлов
* `git commit` --- сохранение (коммит) изменений с вызовом редактора для ввода 
  сообщения
* `git commit -a -m 'текст сообщения'` --- индексация всех изменений в текущей 
  ветке вместе с сохранением и вводом сообщения
* `git mv `_имя-файла` `_новое-имя_ --- переименовать файл в проекте
* `git rm `_имя-файла_ --- удалить файл
* `git rm -r `_имя-директории_ --- удалить директорию и ее содержимое
* ключ `-f` при удалении заставляет игнорировать изменения в файлах.

# Управление веткой

* `git checkout `_хэш-коммита_ --- перенос ветки в заданное хэшем положение и 
  загрузка версии текущих файлов из этого коммита. Переводит ветку в 
  "безголовое" состояние.
* `git checkout `_имя-ветки_ --- выбор существующей ветки и сброс рабочих 
  файлов в состояние ее вершины.
* `git checkout -b `_имя-ветки_ --- отвод новой ветки с заданным именем от 
  текущего положения в ветке. Позволяет после возвращения к изменению, 
  найденному с помощью команды `git log`, продолжить развивать его в новой 
  ветке.
* `git branch -a` --- отобразить все ветки
* `git branch -D `_имя-ветки_ --- удалить ветку в текущей копии репозитории
* `git merge `_имя-ветки_ --- слить изменения из другой ветки в текущую
* `git tag `_метка_ --- пометка текущего коммита удобной для запоминания 
  меткой, например "2.0". Команды, ожидающие идентификатор коммита, такие как 
* `git tag -d `_метка_ --- удаление заданной метки


# Отмена изменений
* `git reset` --- отмена действия команд `git add` до последнего коммита 
  изменений. Изменения и удаление файлов сохраняются
* `git reset --hard` --- сброс изменений в файлах текущей ветки до последнего 
  коммита. Изменения и удаления файлов возвращаются до состояния предыдущего 
  коммита.
* `git reset `_хэш-коммита_ --- перенос ветки в заданное место по коду хеша. 
  Ветка будет переведена в "безголовое" состояние, для дальнейшей работы 
  потребуется создать новую ветку. Текущие файлы при этом не сбрасываются.
* `git revert `_имя-коммита_ ---отмена изменений в текущей ветке до состояния 
  заданного коммита. При этом будет создан в свою очередь коммит, который нужно 
  будет отметить сообщением в логе. Чтобы избежать открытия редактора, можно 
  добавить флаг `--no-edit`.
* `git revert `_имя-или-диапазон-коммитов_` -n` --- внесение изменений, 
  отменяющих заданные коммиты без создания коммита. При этом текущее дерево 
  файлов редактируется, как будто это сделал сам пользователь.

# Работа с удаленными репозиториями

* `git clone `_наименование_` git@github.com:`_логин_`/`_проект_`.git` --- 
  загрузка проекта из удаленного репозитория.
* `git remote add `_наименование_` git@github.com:`_логин_`/`_проект_`.git` --- 
  добавление ссылки на удаленный репозиторий. Наименование задает его короткое 
  имя, для основного репозитория обычно выбирается имя 'origin'.
* `git pull` --- скачать новые изменения
* `git push` --- сохранений коммитов текущей ветки в удаленный репозиторий
* `git push --all` --- сохранение всех веток, в том числе новых, в удаленный 
* `git push -u origin --all` --- сохранение всех веток с одновременной их 
  привязкой к удаленному репозиторию. Выполняется если существующий проект 
  впервые сохраняется в новый репозиторий.
* `git branch -u `_ветка_ --- привязка ветки к удаленному репозитори
